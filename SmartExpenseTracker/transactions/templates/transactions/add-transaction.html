{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add Transaction | SmartTracker</title>
  <link rel="stylesheet" href="{% static 'transactions/css/add-transaction.css'%}" />
</head>

<body>

  <div class="dashboard-wrapper">

    <!-- Sidebar (Same as Dashboard) -->
    <aside class="sidebar">
      <h2 class="brand">Smart<span>Tracker</span></h2>

      <nav class="menu">
        <a href="{% url 'dashboard:dashboard_view' %}">Dashboard</a>
        <a href="{% url 'transactions:add_transaction' %}" class="active">Add Transaction</a>
        <a href="{% url 'transactions:transactions' %}">Transactions</a>
        <a href="{% url 'accounts:logout_view' %}" class="logout">Logout</a>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

      <!-- Top Bar -->
      <header class="topbar">
        <h1>Add Transaction</h1>
      </header>

      <!-- Django Messages -->
      {% if messages %}
      <div class="messages">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
      </div>
      {% endif %}

      <!-- Form Card -->
      <section class="form-container">
        <form class="transaction-form" method="POST">
          {% csrf_token %}

          <div class="form-group">
            <label for="type">Transaction Type</label>
            <select id="type" name="type" required>
              <option value="">Select type</option>
              <option value="income">Income</option>
              <option value="expense">Expense</option>
            </select>
          </div>

          <div class="form-group">
            <label for="amount">Amount (â‚¹)</label>
            <input type="number" id="amount" name="amount" placeholder="Enter amount" required />
          </div>

          <div class="form-group">
            <label for="category">Category</label>
            <select id="category" name="category" required>
              <option value="">Select category</option>
              <option>Food</option>
              <option>Transport</option>
              <option>Shopping</option>
              <option>Bills</option>
              <option>Entertainment</option>
              <option>Salary</option>
            </select>
          </div>

          <div class="form-group">
            <label for="date">Date</label>
            <input type="date" id="date" name="date" required />
          </div>

          <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" name="description" rows="3" placeholder="Optional note..."></textarea>
          </div>

          <div class="form-group">
            <label for="payment">Payment Mode</label>
            <select id="payment" name="payment">
              <option>Cash</option>
              <option>UPI</option>
              <option>Debit Card</option>
              <option>Credit Card</option>
              <option>Net Banking</option>
            </select>
          </div>

          <div class="actions">
            <button type="reset" class="btn secondary">Reset</button>
            <button type="submit" class="btn primary">Save Transaction</button>
          </div>

        </form>
      </section>

    </main>

  </div>

  <script>
    setTimeout(() => {
      document.querySelectorAll('.alert').forEach(alert => {
        alert.style.transition = 'opacity 0.5s ease';
        alert.style.opacity = '0';
        setTimeout(() => alert.remove(), 500);
      });
    }, 3000);
  </script>

</body>

</html>